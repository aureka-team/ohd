<% user_content_type = save.class.to_s.underscore -%>
<div id="save_<%= user_content_type -%>">
<% unless current_user_account.nil? -%>
    <span class="save_user_content" style="display:none;">
        <%# form_tag user_contents_path, class: "save", remote: true :update => "save_#{user_content_type}"  do -%>
        <%= form_tag user_contents_path, class: "save", remote: true do -%>
            <% user_content_attributes = save.user_content_attributes -%>
            <% user_content_attributes.keys.each do |attr| -%>
              <% value = user_content_attributes[attr] -%>
              <%= hidden_field_tag "#{user_content_type}[#{attr}]", value.is_a?(Hash) ? value.to_json : value %>
            <% end -%>
            <%= hidden_field_tag "type", user_content_type.camelize %>
            <%= submit_tag t(:save, :scope => "user_interface.#{user_content_type}"), :class => 'save' %>
        <% end -%>
    </span>
    <% javascript_tag do %>

        new Ajax.Updater({ success: 'save_<%= user_content_type -%>' }, '<%= user_content_path(:id => save.id_hash, :type => user_content_type) %>', { method: 'get', onComplete: function(){new Effect.Appear($('save_<%= user_content_type -%>').down('span'), { duration: 0.7 });}});

    <% end %>
<% end -%>
</div>
