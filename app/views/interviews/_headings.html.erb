<table id="interview_headings" class="mainheadings">
  <tbody>
    <% headings_hash = hashed_headings_from_array(@interview.headings) %>
    <% headings_hash.keys.sort.each do |section| %>
      <% mainheading = headings_hash[section] %>
      <tr id="<%= mainheading[:id] %>" class="mainheading">
        <td class="section"><%= section %>.</td>
        <td class="heading">
            <a href="javascript:current_player.seek(<%= mainheading[:item] + "," + mainheading[:pos]  %>);">
                <%= mainheading[:title] %>
            </a>
            <ul id="subheadings_for_<%= mainheading[:id] %>" class="subheadings">
              <% mainheading[:subheadings].each_with_index do |subheading, index| %>
                <li id="<%= subheading[:id] %>_sub" class="subheading">
                    <a href="javascript:current_player.seek(<%= subheading[:item] + "," + subheading[:pos]  %>);">
                        <%= "#{section}.#{index + 1}."  %>
                        <%= subheading[:title] %>
                    </a>
                </li>
              <% end %>
            </ul>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>