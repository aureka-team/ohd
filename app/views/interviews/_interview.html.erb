<div id="containerInterview" class="active container">

  <ul class="data">
    <li>
      <span class="label"><%= Interview.human_attribute_name('duration') %></span>
      <span class="value"><%= interview.video %>&nbsp;<%= interview.duration.minimal %></span>
    </li>
    <li>
      <span class="label"><%= Interview.human_attribute_name('interview_date') %></span>
      <span class="value"><%= interview.interview_date.blank? ? t(:not_specified, :scope => 'status') : interview.interview_date %></span>
    </li>
    <li>
      <span class="label"><%= Interview.human_attribute_name('interviewers') %></span>
      <span class="value"><%= interview.interviewers(I18n.locale).blank? ? t(:not_specified, :scope => 'status') : interview.interviewers(I18n.locale) %></span>
    </li>
    <li>
      <span class="label"><%= Interview.human_attribute_name('transcriptors') %></span>
      <span class="value"><%= interview.transcriptors(I18n.locale).blank? ? t(:not_specified, :scope => 'status') : interview.transcriptors(I18n.locale) %></span>
    </li>
    <li>
      <span class="label"><%= Interview.human_attribute_name('language') %></span>
      <span class="value"><%= interview.languages.join(' / ') -%><% unless interview.language.downcase == "deutsch" -%>,
        <%= interview.translated ? t(:translated, :scope => 'status') : t(:not_translated, :scope => 'status') %>
        <% end -%>
      </span>
    </li>
    <% %w( translators researchers proofreaders segmentators ).each do |attr| %>
      <% value = interview.send(attr, I18n.locale) %>
      <% unless value.blank? %>
        <li>
          <span class="label"><%= Interview.human_attribute_name(attr) %></span>
          <span class="value"><%= expand(value || t(:not_specified, :scope => 'status'), attr, 130) %></span>
        </li>
      <% end %>
    <% end %>
    <li>
      <span class="label"><%= Interview.human_attribute_name('collection') %></span>
      <span class="value">
        <%= interview.collection %>
      </span>
    </li>
    <li>
      <span class="label"><%= Interview.human_attribute_name(:archive_id) %></span>
      <span class="value"><%= interview.archive_id %></span>
    </li>
  </ul>

    <ul id="interviewDocuments">
        <% if interview.text_materials.of_type('Biography').size > 0 %>
            <li>
                <%= "#{t('user_interface.labels.Biography')}" %> (pdf)
                <% interview.text_materials.of_type('Biography').map{|tm| {:language => I18n.three_letter_locale(tm.locale.to_sym), :tm => tm}}.sort_by{|doc| doc[:language]}.each do |doc| %>
                    [<%= link_to doc[:language], doc[:tm].document.url, :target => '_blank' %>]
                <% end %>
            </li>
        <% end %>
        <% if interview.text_materials.of_type('Transcript').size + interview.text_materials.of_type('Translation').size > 0 %>
            <li>
                <%= "#{t('user_interface.labels.transcript')}" %> (pdf)
                <% [
                       {
                           :language => interview.transcript_locales.join('/'),
                           :tm => interview.text_materials.of_type('Transcript').detect { |tm| tm.locale.to_sym == I18n.locale }
                       },
                       {
                           :language => 'deu',
                           :tm => interview.text_materials.of_type('Translation').detect { |tm| tm.locale.to_sym == :de }
                       }
                   ].sort_by{|doc| doc[:language]}.each do |doc| %>
                    <% unless doc[:tm].nil? %>
                        [<%= link_to doc[:language], doc[:tm].document.url, :target => '_blank' %>]
                    <% end %>
                <% end %>
            </li>
        <% end %>
    </ul>

</div>
